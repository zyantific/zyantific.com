---
import Badge from './Badge.astro';

export interface Props {
	title: string;
	description: string;
	publishDate: string;
	url: string;
	author: string;
	image?: string;
	category: 'dev' | 'exploit' | 'misc' | 'release';
}

const { title, description, publishDate, url, author, image, category } = Astro.props as Props;
---

<div>
	<a href={url}>
		<article class='card md:max-h-[270px] md:card-side bg-lm-faded dark:bg-dm-faded shadow-xl transition-colors duration-200'>
			<figure class='max-w-full'><img class='object-cover min-w-full lg:max-h-min max-h-60' src='https://placeimg.com/400/400/arch' alt='Album' /></figure>
			<div class='card-body p-5'>
				<div class='flex items-center space-x-2'>
					<Badge type={category} />
					<time class='text-xs text-lm-body dark:text-dm-body'>{publishDate}</time>
				</div>
				<h2 class='mt-3 card-title text-[32px] text-lm-heading dark:text-dm-heading'>{title}</h2>
				<p class='mt-2 text-md lg:line-clamp-3 line-clamp-2 flex-grow-0 text-lm-body dark:text-dm-body'>{description}</p>
				<div class='mt-auto flex items-center'>
					<div class='avatar mr-3'>
						<div class='w-8 rounded-full'>
							<img src='https://placeimg.com/192/192/people' />
						</div>
					</div>
					<div>
						<span class='text-sm text-lm-body dark:text-dm-body'>{author}</span>
					</div>
				</div>
			</div>
		</article>
	</a>
</div>
