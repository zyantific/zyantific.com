---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import type { Props as BaseHeadProps } from '../components/BaseHead.astro';
export interface Props {
	meta: BaseHeadProps;
}

const { meta } = Astro.props;
---

<html lang='en' class='dark'>
	<head>
		<BaseHead {...meta} />
		<script is:inline>
			let isDarkMode;
			if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
				isDarkMode = true;
			} else {
				isDarkMode = false;
			}

			const theme = isDarkMode ? 'dark' : '';
			document.querySelector('html').className = theme;
		</script>
	</head>

	<body class='bg-lm-background dark:bg-dm-background transition-colors duration-200'>
		<!-- <Header /> -->
		<Header />
		<slot></slot>
		<Footer />
	</body>
</html>
